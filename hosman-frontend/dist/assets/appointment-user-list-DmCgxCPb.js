import{ab as g,a as j,b as C,ap as v,r,ar as D,j as t,ac as y,x as S,T as s,as as A,a3 as m,m as k,at as w,n as N,p as O,H as T,C as W}from"./index-Dubd7hMd.js";import{S as E}from"./Snackbar-BDDu1l70.js";function F(){const{role:i}=g(),l=j(),h=C(),{data:n}=v(e=>e.appointment.appointmentData);console.log("Fetched Appointments:",n);const[d,x]=r.useState("");r.useEffect(()=>{l(D({}))},[l]);const c=Array.isArray(n==null?void 0:n.appointments)?n.appointments:[],u=c.reduce((e,a)=>(e[a.department]||(e[a.department]={department:a.department,count:0}),e[a.department].count+=1,e),{}),p=Object.values(u).filter(e=>e.department.toLowerCase().includes(d.toLowerCase())),f=e=>{h(`${O.dashboard.Appointment.department.replace(":id",e)}`)},[b,o]=r.useState(!1);return r.useEffect(()=>{(i==="Doctor"||i==="Nurse")&&o(!0)},[]),t.jsxs(y,{children:[t.jsx(E,{open:b,autoHideDuration:800,onClose:()=>o(!1),anchorOrigin:{vertical:"top",horizontal:"center"},children:t.jsx(S,{onClose:()=>o(!1),severity:"success",variant:"filled",children:"ðŸŽ‰ Welcome to the Dashboard!"})}),t.jsxs(s,{variant:"h6",sx:{mb:2},children:["Total Appointments: ",c.length]}),t.jsx(A,{label:"Search Department",variant:"outlined",value:d,onChange:e=>x(e.target.value),sx:{mb:3,width:"100%","& .MuiOutlinedInput-root":{borderWidth:"2px","& fieldset":{borderColor:"grey",borderWidth:"2px"},"&:hover fieldset":{borderColor:"black"},"&.Mui-focused fieldset":{borderColor:"black",borderWidth:"2.5px"}}}}),t.jsx(m,{container:!0,spacing:3,children:p.length>0?p.map(e=>t.jsx(m,{item:!0,xs:6,sm:6,md:2,children:t.jsx(k,{sx:{width:"100%",minHeight:30,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",boxShadow:3,borderRadius:2,transition:"transform 0.2s ease-in",border:"2px solid",borderColor:"gainsboro","&:hover":{transform:"scale(1.11)",borderColor:"GrayText"}},children:t.jsxs(w,{sx:{padding:"8px",display:"flex",flexDirection:"column",alignItems:"center"},children:[t.jsx(s,{variant:"h6",sx:{fontWeight:"bold"},children:e.department}),t.jsx(s,{variant:"body2",sx:{color:"gray"},children:e.count}),t.jsx(N,{variant:"contained",color:"primary",size:"small",sx:{mt:1},onClick:()=>f(e.department),children:"View"})]})})},e.department)):t.jsx(s,{sx:{mt:2,ml:3},children:"No appointments found."})})]})}const H={title:`All Staff | Staff | Settings - ${W.appName}`};function z(){return t.jsxs(t.Fragment,{children:[t.jsx(T,{children:t.jsxs("title",{children:[" ",H.title]})}),t.jsx(F,{})]})}export{z as default};
