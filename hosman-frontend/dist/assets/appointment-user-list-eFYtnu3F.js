import{ab as j,a as C,b as v,ap as D,r as s,ar as y,j as e,ac as A,x as S,T as r,as as k,a3 as m,m as w,at as F,n as L,p as N,H as O,C as T}from"./index-DDXNwVzf.js";import{S as W}from"./Snackbar-CYLHpuAd.js";function E(){const{role:i}=j(),l=C(),h=v(),{data:a,isLoading:x}=D(t=>{var n;return{data:(n=t.appointment.appointmentData)==null?void 0:n.data,isLoading:t.appointment.appointmentData.loading}});console.log("Fetched Appointments:",a);const[d,u]=s.useState("");s.useEffect(()=>{l(y({}))},[l]);const c=Array.isArray(a==null?void 0:a.appointments)?a.appointments:[],f=c.reduce((t,n)=>(t[n.department]||(t[n.department]={department:n.department,count:0}),t[n.department].count+=1,t),{}),p=Object.values(f).filter(t=>t.department.toLowerCase().includes(d.toLowerCase())),g=t=>{h(`${N.dashboard.Appointment.department.replace(":id",t)}`)},[b,o]=s.useState(!1);return s.useEffect(()=>{(i==="Doctor"||i==="Nurse")&&o(!0)},[]),e.jsxs(A,{children:[e.jsx(W,{open:b,autoHideDuration:800,onClose:()=>o(!1),anchorOrigin:{vertical:"top",horizontal:"center"},children:e.jsx(S,{onClose:()=>o(!1),severity:"success",variant:"filled",children:"ðŸŽ‰ Welcome to the Dashboard!"})}),x?e.jsx(r,{variant:"h6",sx:{textAlign:"center",mt:3},children:"Fetching appointments... â³"}):e.jsxs(e.Fragment,{children:[e.jsxs(r,{variant:"h6",sx:{mb:2},children:["Total Appointments: ",c.length]}),e.jsx(k,{label:"Search Department",variant:"outlined",value:d,onChange:t=>u(t.target.value),sx:{mb:3,width:"100%","& .MuiOutlinedInput-root":{borderWidth:"2px","& fieldset":{borderColor:"grey",borderWidth:"2px"},"&:hover fieldset":{borderColor:"black"},"&.Mui-focused fieldset":{borderColor:"black",borderWidth:"2.5px"}}}}),e.jsx(m,{container:!0,spacing:3,children:p.length>0?p.map(t=>e.jsx(m,{item:!0,xs:6,sm:6,md:2,children:e.jsx(w,{sx:{width:"100%",minHeight:30,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",boxShadow:3,borderRadius:2,transition:"transform 0.2s ease-in",border:"2px solid",borderColor:"gainsboro","&:hover":{transform:"scale(1.11)",borderColor:"GrayText"}},children:e.jsxs(F,{sx:{padding:"8px",display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(r,{variant:"h6",sx:{fontWeight:"bold"},children:t.department}),e.jsx(r,{variant:"body2",sx:{color:"gray"},children:t.count}),e.jsx(L,{variant:"contained",color:"primary",size:"small",sx:{mt:1},onClick:()=>g(t.department),children:"View"})]})})},t.department)):e.jsx(r,{sx:{mt:2,ml:3},children:"No appointments found."})})]})]})}const H={title:`All Staff | Staff | Settings - ${T.appName}`};function M(){return e.jsxs(e.Fragment,{children:[e.jsx(O,{children:e.jsxs("title",{children:[" ",H.title]})}),e.jsx(E,{})]})}export{M as default};
